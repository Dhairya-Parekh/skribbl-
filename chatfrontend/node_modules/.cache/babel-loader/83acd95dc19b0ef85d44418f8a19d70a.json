{"ast":null,"code":"var _jsxFileName = \"/home/nsr/skribbl-/chatfrontend/src/game/canvas/canvas.js\",\n    _s = $RefreshSig$();\n\nimport CanvasDraw from \"react-canvas-draw\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Canvas({\n  userName,\n  drawer,\n  socket\n}) {\n  _s();\n\n  const CanvasRef = useRef();\n  const [deta, setDeta] = useState(\"\");\n  socket.on(\"do_drawing\", data => {\n    setDeta(data.draw_data);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: userName === drawer ? /*#__PURE__*/_jsxDEV(CanvasDraw, {\n      ref: CanvasRef,\n      onChange: () => {\n        const drawing_data = CanvasRef.current.getSaveData();\n        socket.emit(\"draw\", drawing_data);\n        setDeta(drawing_data);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(CanvasDraw, {\n      disabled: true,\n      hideGrid: true,\n      saveData: deta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Canvas, \"tQj+RJj+wdWF1nlXPbD0SjrSQPs=\");\n\n_c = Canvas;\nexport default Canvas; // // useEffect(() => {\n//     //     socket.on(\"do_drawing\", (data) => {\n//     //         setDeta(data.draw_data);\n//     //     });\n//     // }, [socket]);\n//     function temp(data){\n//         console.log(data)\n//         setDeta(data)\n//     }\n//     socket.on(\"do_drawing\", (data) => {\n//         temp(data.draw_data);\n//     });\n//     return(\n//         <div>\n//             <div>\n//                 <CanvasDraw\n//                     ref={ CanvasRef } \n//                     onChange={() => \n//                         {\n//                             setDeta(CanvasRef.current.getSaveData);\n//                             socket.emit(\"draw\",String(deta));\n//                         }\n//                     } \n//                 />\n//             </div>\n//             <div>\n//                 <CanvasDraw\n//                     disabled\n//                     hideGrid\n//                     saveData={deta}\n//                     //loadTimeOffset={0}\n//                 />\n//             </div>\n//         </div>\n//     );\n\nvar _c;\n\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"sources":["/home/nsr/skribbl-/chatfrontend/src/game/canvas/canvas.js"],"names":["CanvasDraw","React","useState","useRef","useEffect","Canvas","userName","drawer","socket","CanvasRef","deta","setDeta","on","data","draw_data","drawing_data","current","getSaveData","emit"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,mBAAvB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;;;AACA,SAASC,MAAT,CAAgB;AAACC,EAAAA,QAAD;AAAWC,EAAAA,MAAX;AAAmBC,EAAAA;AAAnB,CAAhB,EAA4C;AAAA;;AACxC,QAAMC,SAAS,GAAGN,MAAM,EAAxB;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACAM,EAAAA,MAAM,CAACI,EAAP,CAAU,YAAV,EAAwBC,IAAD,IAAQ;AAC3BF,IAAAA,OAAO,CAACE,IAAI,CAACC,SAAN,CAAP;AACH,GAFD;AAGA,sBACI;AAAA,cACKR,QAAQ,KAAGC,MAAX,gBACG,QAAC,UAAD;AACI,MAAA,GAAG,EAAKE,SADZ;AAEI,MAAA,QAAQ,EAAE,MACN;AACI,cAAMM,YAAY,GAAGN,SAAS,CAACO,OAAV,CAAkBC,WAAlB,EAArB;AACAT,QAAAA,MAAM,CAACU,IAAP,CAAY,MAAZ,EAAmBH,YAAnB;AACAJ,QAAAA,OAAO,CAACI,YAAD,CAAP;AACH;AAPT;AAAA;AAAA;AAAA;AAAA,YADH,gBAYG,QAAC,UAAD;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,QAAQ,MAFZ;AAGI,MAAA,QAAQ,EAAEL;AAHd;AAAA;AAAA;AAAA;AAAA;AAbR;AAAA;AAAA;AAAA;AAAA,UADJ;AAuBH;;GA7BQL,M;;KAAAA,M;AA8BT,eAAeA,MAAf,C,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import CanvasDraw from \"react-canvas-draw\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nfunction Canvas({userName, drawer, socket }){\r\n    const CanvasRef = useRef()\r\n    const [deta, setDeta] = useState(\"\");\r\n    socket.on(\"do_drawing\",(data)=>{\r\n        setDeta(data.draw_data)\r\n    });\r\n    return(\r\n        <div>\r\n            {userName===drawer ? \r\n                <CanvasDraw \r\n                    ref = { CanvasRef }\r\n                    onChange={() => \r\n                        {\r\n                            const drawing_data = CanvasRef.current.getSaveData()\r\n                            socket.emit(\"draw\",drawing_data);\r\n                            setDeta(drawing_data);\r\n                        }\r\n                    } \r\n                />\r\n            :\r\n                <CanvasDraw \r\n                    disabled\r\n                    hideGrid\r\n                    saveData={deta}\r\n                />\r\n            }\r\n        </div>\r\n    );\r\n    \r\n}\r\nexport default Canvas;\r\n\r\n\r\n\r\n// // useEffect(() => {\r\n//     //     socket.on(\"do_drawing\", (data) => {\r\n//     //         setDeta(data.draw_data);\r\n//     //     });\r\n//     // }, [socket]);\r\n//     function temp(data){\r\n//         console.log(data)\r\n//         setDeta(data)\r\n//     }\r\n//     socket.on(\"do_drawing\", (data) => {\r\n//         temp(data.draw_data);\r\n//     });\r\n\r\n//     return(\r\n//         <div>\r\n//             <div>\r\n//                 <CanvasDraw\r\n//                     ref={ CanvasRef } \r\n//                     onChange={() => \r\n//                         {\r\n//                             setDeta(CanvasRef.current.getSaveData);\r\n//                             socket.emit(\"draw\",String(deta));\r\n//                         }\r\n//                     } \r\n//                 />\r\n//             </div>\r\n//             <div>\r\n//                 <CanvasDraw\r\n//                     disabled\r\n//                     hideGrid\r\n//                     saveData={deta}\r\n//                     //loadTimeOffset={0}\r\n//                 />\r\n//             </div>\r\n//         </div>\r\n        \r\n//     );"]},"metadata":{},"sourceType":"module"}