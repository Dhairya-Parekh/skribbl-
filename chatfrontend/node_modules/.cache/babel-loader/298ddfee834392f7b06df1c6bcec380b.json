{"ast":null,"code":"var _jsxFileName = \"/home/nsr/new2/skribbl-/chatfrontend/src/game/timer/timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = ({\n  timelimit,\n  socket,\n  user,\n  drawer\n}) => {\n  _s();\n\n  const [seconds, setSeconds] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n\n  function toggle() {\n    setIsActive(!isActive);\n  }\n\n  function reset() {\n    setSeconds(0);\n    setIsActive(false);\n  }\n\n  socket.on(\"time_change\", data => {\n    setSeconds(data.seconds);\n  });\n  socket.on(\"Start_Timer\", () => {\n    reset();\n    setIsActive(true);\n  });\n  socket.emit(\"time_over\", user.room);\n  useEffect(() => {\n    let interval = null;\n\n    if (isActive) {\n      if (seconds < timelimit) {\n        interval = setInterval(() => {\n          setSeconds(seconds => seconds + 1);\n        }, 1000);\n      }\n    } else if (!isActive && seconds !== 0) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [isActive, seconds, timelimit]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [timelimit - seconds, \"s\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Timer, \"HjAIbd49zoP8n+oOlWwUpn38Z08=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/home/nsr/new2/skribbl-/chatfrontend/src/game/timer/timer.js"],"names":["React","useState","useEffect","Timer","timelimit","socket","user","drawer","seconds","setSeconds","isActive","setIsActive","toggle","reset","on","data","emit","room","interval","setInterval","clearInterval"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAGA,MAAMC,KAAK,GAAG,CAAC;AAACC,EAAAA,SAAD;AAAWC,EAAAA,MAAX;AAAkBC,EAAAA,IAAlB;AAAuBC,EAAAA;AAAvB,CAAD,KAAoC;AAAA;;AAChD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,KAAD,CAAxC;;AAEA,WAASW,MAAT,GAAkB;AAChBD,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACD;;AAED,WAASG,KAAT,GAAiB;AACfJ,IAAAA,UAAU,CAAC,CAAD,CAAV;AACAE,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD;;AAEDN,EAAAA,MAAM,CAACS,EAAP,CAAU,aAAV,EAAyBC,IAAD,IAAQ;AAC9BN,IAAAA,UAAU,CAACM,IAAI,CAACP,OAAN,CAAV;AACD,GAFD;AAKAH,EAAAA,MAAM,CAACS,EAAP,CAAU,aAAV,EAAwB,MAAM;AAC5BD,IAAAA,KAAK;AACLF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAHD;AAKAN,EAAAA,MAAM,CAACW,IAAP,CAAY,WAAZ,EAAwBV,IAAI,CAACW,IAA7B;AAIAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgB,QAAQ,GAAG,IAAf;;AACA,QAAIR,QAAJ,EAAc;AACZ,UAAGF,OAAO,GAACJ,SAAX,EAAqB;AACnBc,QAAAA,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAC3BV,UAAAA,UAAU,CAACD,OAAO,IAAIA,OAAO,GAAG,CAAtB,CAAV;AACD,SAFqB,EAEnB,IAFmB,CAAtB;AAGD;AACF,KAND,MAMO,IAAI,CAACE,QAAD,IAAaF,OAAO,KAAK,CAA7B,EAAgC;AACrCY,MAAAA,aAAa,CAACF,QAAD,CAAb;AACD;;AACD,WAAO,MAAME,aAAa,CAACF,QAAD,CAA1B;AACD,GAZQ,EAYN,CAACR,QAAD,EAAWF,OAAX,EAAoBJ,SAApB,CAZM,CAAT;AAeA,sBACI;AAAA,2BACE;AAAA,iBACGA,SAAS,GAAGI,OADf;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AAOC,CAjDH;;GAAML,K;;KAAAA,K;AAmDN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n\nconst Timer = ({timelimit,socket,user,drawer}) => {\n  const [seconds, setSeconds] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n\n  function toggle() {\n    setIsActive(!isActive);\n  }\n\n  function reset() {\n    setSeconds(0);\n    setIsActive(false);\n  }\n\n  socket.on(\"time_change\",(data)=>{\n    setSeconds(data.seconds)\n  });\n\n\n  socket.on(\"Start_Timer\",() => {\n    reset();\n    setIsActive(true);\n  })\n\n  socket.emit(\"time_over\",user.room);\n  \n\n  \n  useEffect(() => {    \n    let interval = null;\n    if (isActive) {\n      if(seconds<timelimit){\n        interval = setInterval(() => {\n          setSeconds(seconds => seconds + 1);\n        }, 1000);\n      }\n    } else if (!isActive && seconds !== 0) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, seconds, timelimit]);\n\n\n  return(\n      <div>\n        <div>\n          {timelimit - seconds}s\n        </div>\n      </div>\n    );\n  };\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}