{"ast":null,"code":"import _slicedToArray from\"/home/dhairya/Desktop/Scribble_latest/chatfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./home.scss\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Homepage(_ref){var socket=_ref.socket;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setusername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),roomname=_useState4[0],setroomname=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),modalisshown=_useState6[0],setmodalstate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),roomisshown=_useState8[0],setroomstate=_useState8[1];//activates joinRoom function defined on the backend\nvar sendData=function sendData(){if(username!==\"\"&&roomname!==\"\"){socket.emit(\"joinRoom\",{username:username,roomname:roomname});//if empty error message pops up and returns to the same page\n}else{alert(\"username and roomname are must !\");window.location.reload();}};function Join_Room(){setmodalstate(true);}function Create_Room(){setroomstate(true);var rand_room=Math.floor(Math.random()*100000);setroomname(rand_room.toString());}function Roomdetails(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You are in room \",roomname]}),/*#__PURE__*/_jsx(\"p\",{children:\"Share this room number with your friends !\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Link,{to:\"/chat/\".concat(roomname,\"/\").concat(username),children:/*#__PURE__*/_jsx(\"button\",{class:\"button\",onClick:sendData,children:\"Join Room\"})})})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Skribbl Skribbl\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Input your user name\",value:username,onChange:function onChange(e){return setusername(e.target.value);}}),modalisshown||roomisshown?null:/*#__PURE__*/_jsx(\"button\",{class:\"button\",onClick:Create_Room,children:\"Create a new room\"}),modalisshown||roomisshown?null:/*#__PURE__*/_jsx(\"button\",{class:\"button\",onClick:Join_Room,children:\"Join a existing room\"}),modalisshown?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Input the room name\",value:roomname,onChange:function onChange(e){return setroomname(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/chat/\".concat(roomname,\"/\").concat(username),children:/*#__PURE__*/_jsx(\"button\",{class:\"button\",onClick:sendData,children:\"Join\"})})]})}):null,roomisshown?/*#__PURE__*/_jsx(Roomdetails,{}):null]});}export default Homepage;","map":{"version":3,"sources":["/home/dhairya/Desktop/Scribble_latest/chatfrontend/src/home/home.js"],"names":["React","useState","Link","Homepage","socket","username","setusername","roomname","setroomname","modalisshown","setmodalstate","roomisshown","setroomstate","sendData","emit","alert","window","location","reload","Join_Room","Create_Room","rand_room","Math","floor","random","toString","Roomdetails","e","target","value"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,QAASC,CAAAA,QAAT,MAA8B,IAAVC,CAAAA,MAAU,MAAVA,MAAU,CAC5B,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,YAAP,eAAqBC,aAArB,eACA,eAAoCT,QAAQ,CAAC,EAAD,CAA5C,yCAAOU,WAAP,eAAoBC,YAApB,eACA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIR,QAAQ,GAAK,EAAb,EAAmBE,QAAQ,GAAK,EAApC,CAAwC,CACtCH,MAAM,CAACU,IAAP,CAAY,UAAZ,CAAwB,CAAET,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAAxB,EACA;AACD,CAHD,IAGO,CACLQ,KAAK,CAAC,kCAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,CARD,CASA,QAASC,CAAAA,SAAT,EAAoB,CAClBT,aAAa,CAAC,IAAD,CAAb,CACD,CACD,QAASU,CAAAA,WAAT,EAAsB,CACpBR,YAAY,CAAC,IAAD,CAAZ,CACA,GAAIS,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAc,MAAzB,CAAhB,CACAhB,WAAW,CAACa,SAAS,CAACI,QAAV,EAAD,CAAX,CACD,CACD,QAASC,CAAAA,WAAT,EAAsB,CACpB,mBACE,oCACE,wCAAoBnB,QAApB,GADF,cAEE,iEAFF,cAGE,aAHF,cAIE,aAJF,cAKE,aALF,cAME,kCACE,qCACE,KAAC,IAAD,EAAM,EAAE,iBAAWA,QAAX,aAAuBF,QAAvB,CAAR,uBACE,eAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAEQ,QAAhC,uBADF,EADF,EADF,EANF,GADF,CAgBD,CACD,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,uCADF,cAEE,cACE,WAAW,CAAC,sBADd,CAEE,KAAK,CAAER,QAFT,CAGE,QAAQ,CAAE,kBAACsB,CAAD,QAAOrB,CAAAA,WAAW,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,EAFF,CAOGpB,YAAY,EAAIE,WAAhB,CAA8B,IAA9B,cAAqC,eAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAES,WAAhC,+BAPxC,CAQGX,YAAY,EAAIE,WAAhB,CAA8B,IAA9B,cAAqC,eAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAEQ,SAAhC,kCARxC,CASGV,YAAY,cACX,kCACE,uCACE,cACE,IAAI,CAAG,MADT,CAEE,WAAW,CAAC,qBAFd,CAGE,KAAK,CAAEF,QAHT,CAIE,QAAQ,CAAE,kBAACoB,CAAD,QAAOnB,CAAAA,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAJZ,EADF,cAOE,aAPF,cAQE,aARF,cASE,KAAC,IAAD,EAAM,EAAE,iBAAWtB,QAAX,aAAuBF,QAAvB,CAAR,uBACE,eAAQ,KAAK,CAAC,QAAd,CAAuB,OAAO,CAAEQ,QAAhC,kBADF,EATF,GADF,EADW,CAgBX,IAzBJ,CA0BCF,WAAW,cAAG,KAAC,WAAD,IAAH,CAAqB,IA1BjC,GADF,CA8BD,CAED,cAAeR,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport \"./home.scss\";\nimport { Link } from \"react-router-dom\";\n\nfunction Homepage({ socket }) {\n  const [username, setusername] = useState(\"\");\n  const [roomname, setroomname] = useState(\"\");\n  const [modalisshown, setmodalstate] = useState(\"\");\n  const [roomisshown, setroomstate] = useState(\"\");\n  //activates joinRoom function defined on the backend\n  const sendData = () => {\n    if (username !== \"\" && roomname !== \"\") {\n      socket.emit(\"joinRoom\", { username, roomname });\n      //if empty error message pops up and returns to the same page\n    } else {\n      alert(\"username and roomname are must !\");\n      window.location.reload();\n    }\n  };\n  function Join_Room(){\n    setmodalstate(true);\n  }\n  function Create_Room(){\n    setroomstate(true);\n    var rand_room = Math.floor(Math.random()*100000);\n    setroomname(rand_room.toString());\n  }\n  function Roomdetails(){\n    return(\n      <div>\n        <p>You are in room {roomname}</p>\n        <p>Share this room number with your friends !</p>\n        <br></br>\n        <br></br>\n        <br></br>\n        <div>\n          <center>\n            <Link to={`/chat/${roomname}/${username}`}>\n              <button class=\"button\" onClick={sendData}>Join Room</button>\n            </Link>\n          </center>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"homepage\">\n      <h1>Skribbl Skribbl</h1>\n      <input\n        placeholder=\"Input your user name\"\n        value={username}\n        onChange={(e) => setusername(e.target.value)}\n      ></input>\n      {modalisshown || roomisshown ? null : <button class=\"button\" onClick={Create_Room}>Create a new room</button>}\n      {modalisshown || roomisshown ? null : <button class=\"button\" onClick={Join_Room}>Join a existing room</button>}\n      {modalisshown ? \n        <div>\n          <center>\n            <input\n              type = \"text\"\n              placeholder=\"Input the room name\"\n              value={roomname}\n              onChange={(e) => setroomname(e.target.value)}\n            ></input>\n            <br></br>\n            <br></br>\n            <Link to={`/chat/${roomname}/${username}`}>\n              <button class=\"button\" onClick={sendData}>Join</button>\n            </Link>\n          </center>\n        </div> \n      : null}\n    {roomisshown ? <Roomdetails /> : null}\n  </div>\n  );\n}\n\nexport default Homepage;\n"]},"metadata":{},"sourceType":"module"}