(this.webpackJsonpchatfrontend=this.webpackJsonpchatfrontend||[]).push([[0],{159:function(e,t,n){},166:function(e,t){},168:function(e,t){},178:function(e,t){},180:function(e,t){},207:function(e,t){},209:function(e,t){},210:function(e,t){},215:function(e,t){},217:function(e,t){},223:function(e,t){},225:function(e,t){},244:function(e,t){},256:function(e,t){},259:function(e,t){},270:function(e,t,n){},271:function(e,t,n){},273:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var c=n(15),s=n(157),r=(n(159),n(160)),a="uI2ooxtwHeI6q69PS98fx9SWVGbpQohO",o=n(0),i=n.n(o),j=n(58),u=n(1);var b=function(e){var t=e.username,n=(e.roomname,e.socket),i=Object(o.useState)(""),b=Object(c.a)(i,2),l=b[0],h=b[1],O=Object(o.useState)([]),d=Object(c.a)(O,2),m=d[0],x=d[1],f=Object(j.b)();Object(o.useEffect)((function(){n.on("message",(function(e){var t,n,c,o=function(e,t){return e.startsWith("Welcome")||e.startsWith(t)?e:r.decrypt(a,e)}(e.text,e.username);t=!1,n=o,c=e.text,f(function(e,t,n){return{type:"PROCESS",payload:{encrypt:e,text:t,cypher:n}}}(t,n,c)),console.log(o);var i=m;i.push({userId:e.userId,username:e.username,text:o}),x(Object(s.a)(i))}))}),[n]);var p=function(){if(""!==l){var e=function(e){return r.encrypt(a,e)}(l);n.emit("chat",e),h("")}},v=Object(o.useRef)(null);return Object(o.useEffect)((function(){v.current.scrollIntoView({behavior:"smooth"})}),[m]),console.log(m,"mess"),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsx)("div",{className:"user-name",children:Object(u.jsx)("ceter",{children:Object(u.jsx)("h2",{children:"Skribbl Skribbl"})})}),Object(u.jsxs)("div",{className:"chat-message",children:[m.map((function(e){return e.username===t?Object(u.jsxs)("div",{className:"message mess-right",children:[Object(u.jsx)("p",{children:e.text}),Object(u.jsx)("span",{children:e.username})]}):Object(u.jsxs)("div",{className:"message",children:[Object(u.jsxs)("p",{children:[e.text," "]}),Object(u.jsx)("span",{children:e.username})]})})),Object(u.jsx)("div",{ref:v})]}),Object(u.jsxs)("div",{className:"send",children:[Object(u.jsx)("input",{placeholder:"Type your answer here",value:l,onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&p()}}),Object(u.jsx)("button",{onClick:p,children:"Send"})]})]})};n(270);var l=function(e){var t=e.socket,n=e.roomname,s=Object(o.useState)([]),r=Object(c.a)(s,2),a=r[0],i=r[1];return Object(o.useEffect)((function(){t.emit("updateusers"),t.on("userList",(function(e){var t=[];e.users.forEach((function(e){e.room===n&&t.push(e.username)})),i([].concat(t))}))}),[]),Object(u.jsxs)("div",{class:"process",children:[Object(u.jsx)("h1",{children:"Players"}),a.map((function(e){return Object(u.jsx)("h2",{children:e})}))]})},h=(n(271),n(48));var O=function(e){var t=e.socket,n=Object(o.useState)(""),s=Object(c.a)(n,2),r=s[0],a=s[1],i=Object(o.useState)(""),j=Object(c.a)(i,2),b=j[0],l=j[1],O=Object(o.useState)(""),d=Object(c.a)(O,2),m=d[0],x=d[1],f=Object(o.useState)(""),p=Object(c.a)(f,2),v=p[0],g=p[1],S=function(){""!==r&&""!==b?t.emit("joinRoom",{username:r,roomname:b}):(alert("username and roomname are must !"),window.location.reload())};function k(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["You are in room ",b]}),Object(u.jsx)("p",{children:"Share this room number with your friends !"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:Object(u.jsx)("center",{children:Object(u.jsx)(h.b,{to:"/chat/".concat(b,"/").concat(r),children:Object(u.jsx)("button",{class:"button",onClick:S,children:"Join Room"})})})})]})}return Object(u.jsxs)("div",{className:"homepage",children:[Object(u.jsx)("h1",{children:"Skribbl Skribbl"}),Object(u.jsx)("input",{placeholder:"Input your user name",value:r,onChange:function(e){return a(e.target.value)}}),m||v?null:Object(u.jsx)("button",{class:"button",onClick:function(){g(!0);var e=Math.floor(1e5*Math.random());l(e.toString())},children:"Create a new room"}),m||v?null:Object(u.jsx)("button",{class:"button",onClick:function(){x(!0)},children:"Join a existing room"}),m?Object(u.jsx)("div",{children:Object(u.jsxs)("center",{children:[Object(u.jsx)("input",{type:"text",placeholder:"Input the room name",value:b,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(h.b,{to:"/chat/".concat(b,"/").concat(r),children:Object(u.jsx)("button",{class:"button",onClick:S,children:"Join"})})]})}):null,v?Object(u.jsx)(k,{}):null]})},d=n(5),m=(n(273),n(156)),x=n.n(m).a.connect("/");function f(e){var t=Object(o.useState)(!1),n=Object(c.a)(t,2),s=n[0],r=n[1];return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsx)("div",{className:"right",children:Object(u.jsx)(l,{socket:x,roomname:e.match.params.roomname})}),Object(u.jsx)("div",{className:"left",children:s?Object(u.jsx)("div",{children:Object(u.jsx)(b,{username:e.match.params.username,roomname:e.match.params.roomname,socket:x})}):Object(u.jsx)("button",{class:"startgame",onClick:function(){r(!0)},children:"Start Game"})})]})}var p=function(){return Object(u.jsx)(h.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/",exact:!0,children:Object(u.jsx)(O,{socket:x})}),Object(u.jsx)(d.a,{path:"/chat/:roomname/:username",component:f})]})})})},v=n(158),g=n(59),S=Object(g.a)({ProcessReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"PROCESS"===t.type?Object(v.a)({},t.payload):e}}),k=S,y=n(56),C=n.n(y),N=Object(g.b)(k);C.a.render(Object(u.jsx)(j.a,{store:N,children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[299,1,2]]]);
//# sourceMappingURL=main.449c7cb6.chunk.js.map