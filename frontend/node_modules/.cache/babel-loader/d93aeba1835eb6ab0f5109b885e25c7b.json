{"ast":null,"code":"var _jsxFileName = \"/home/dhairya/Desktop/Scribble/skribbl-/frontend/src/game/game.js\",\n    _s = $RefreshSig$();\n\nimport './game.scss';\nimport React, { useEffect, useState } from 'react';\nimport Scores from './scores/scores';\nimport Canvas from './canvas/canvas';\nimport Chat from './chat/chat';\nimport Words from './words/words';\nimport Timer from './timer/timer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Game({\n  user,\n  socket,\n  settings\n}) {\n  _s();\n\n  const [currentword, setcurrentword] = useState(\"\");\n  const [current_drawer, setcurrent_drawer] = useState(null);\n\n  function update_curr_word(word) {\n    setcurrentword(word);\n  } //---------------------------------------------------------//\n\n\n  useEffect(() => {\n    socket.emit(\"get_current_drawer\", user.room);\n    socket.on(\"received_active_user\", data => {\n      setcurrent_drawer(data.current_user);\n    });\n  }, [user, socket]); //----------------------------------------------------------//\n\n  socket.on(\"Sub_Round_Khatam\", data => {\n    setcurrent_drawer(data.curr_draw);\n  }); //----------------------------------------------------------// \n  // socket.on(\"active_user_updated\",(data) =>{\n  //     setcurrent_drawer(data.user);\n  //     //setpopup(true);\n  // })\n  // socket.on(\"Sub_Round_Over\",(data)=>{\n  //     sub_round_over(data.curr_draw);\n  // })\n  // function sub_round_over(x){\n  //     socket.emit(\"update_chatting_rights\",user.room);\n  //     if(user.id === x.id){\n  //         socket.emit(\"update_active_user\",user.room);\n  //     }\n  // }    \n  //-----------------------------------------------------------//\n\n  console.log(\"return mein kya aaya \", currentword);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: current_drawer !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Game\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Timer, {\n            user: user,\n            socket: socket,\n            drawer: current_drawer,\n            timelimit: settings.timelimit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left\",\n          children: /*#__PURE__*/_jsxDEV(Scores, {\n            roomname: user.room,\n            socket: socket,\n            drawer: current_drawer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Words, {\n              user: user,\n              drawer: current_drawer,\n              socket: socket,\n              update_curr_word: update_curr_word\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Canvas, {\n              user: user,\n              socket: socket,\n              drawer: current_drawer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right\",\n          children: /*#__PURE__*/_jsxDEV(Chat, {\n            user: user,\n            drawer: current_drawer,\n            socket: socket,\n            currentword: currentword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Game, \"+nljaNGC9IYewZ/AjSh0iLw5eUA=\");\n\n_c = Game;\nexport default Game;\n/* \r\nRounds ke implementation ke liye hai \r\n/*---------------------------------------------------------//\r\nuseEffect(() =>{\r\n    if(settings.nor < current_drawer.round_count){\r\n        setround_ender(true);\r\n    }\r\n},[current_drawer]);\r\n\r\nconst [round_ender,setround_ender] = useState(false);\r\n//---------------------------------------------------------*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/home/dhairya/Desktop/Scribble/skribbl-/frontend/src/game/game.js"],"names":["React","useEffect","useState","Scores","Canvas","Chat","Words","Timer","Game","user","socket","settings","currentword","setcurrentword","current_drawer","setcurrent_drawer","update_curr_word","word","emit","room","on","data","current_user","curr_draw","console","log","timelimit"],"mappings":"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","sourcesContent":["import './game.scss';\r\nimport React,{useEffect, useState} from 'react';\r\nimport Scores from './scores/scores';\r\nimport Canvas from './canvas/canvas';\r\nimport Chat from './chat/chat';\r\nimport Words from './words/words';\r\nimport Timer from './timer/timer';\r\n\r\nfunction Game({user,socket,settings}){\r\n    const [currentword,setcurrentword] = useState(\"\");\r\n    const [current_drawer,setcurrent_drawer] = useState(null);\r\n    function update_curr_word(word){\r\n        setcurrentword(word);\r\n    }\r\n    //---------------------------------------------------------//\r\n    useEffect(()=>{      \r\n        socket.emit(\"get_current_drawer\",user.room);\r\n        socket.on(\"received_active_user\",(data)=>{\r\n            setcurrent_drawer(data.current_user);\r\n        });\r\n    },[user,socket]);\r\n    //----------------------------------------------------------//\r\n    socket.on(\"Sub_Round_Khatam\",(data)=>{\r\n        setcurrent_drawer(data.curr_draw);\r\n    })\r\n    //----------------------------------------------------------// \r\n    // socket.on(\"active_user_updated\",(data) =>{\r\n    //     setcurrent_drawer(data.user);\r\n    //     //setpopup(true);\r\n    // })\r\n    // socket.on(\"Sub_Round_Over\",(data)=>{\r\n    //     sub_round_over(data.curr_draw);\r\n    // })\r\n    // function sub_round_over(x){\r\n    //     socket.emit(\"update_chatting_rights\",user.room);\r\n    //     if(user.id === x.id){\r\n    //         socket.emit(\"update_active_user\",user.room);\r\n    //     }\r\n    // }    \r\n    //-----------------------------------------------------------//\r\n    console.log(\"return mein kya aaya \",currentword);\r\n    return(  \r\n        <div>\r\n            {\r\n                current_drawer!==null?\r\n                <div>\r\n                    <div className='Game'>\r\n                      \r\n                          <div>\r\n                            <Timer\r\n                                user={user}\r\n                                socket={socket}\r\n                                drawer={current_drawer}\r\n                                timelimit={settings.timelimit}\r\n                            />\r\n                        </div>\r\n                        <div className='left'>\r\n                            <Scores\r\n                                roomname={user.room}\r\n                                socket={socket}\r\n                                drawer={current_drawer}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <div>\r\n                                <Words\r\n                                    user={user}\r\n                                    drawer={current_drawer}\r\n                                    socket={socket}\r\n                                    update_curr_word={update_curr_word}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <Canvas\r\n                                    user={user}\r\n                                    socket={socket}\r\n                                    drawer={current_drawer}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <Chat\r\n                                user={user} \r\n                                drawer={current_drawer}\r\n                                socket={socket}\r\n                                currentword={currentword}\r\n                            /> \r\n                        </div> \r\n                    </div>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <h2>\r\n                        Loading...2\r\n                    </h2>\r\n                </div>\r\n            }\r\n        </div>    \r\n    );\r\n}\r\n\r\nexport default Game;\r\n\r\n\r\n/* \r\nRounds ke implementation ke liye hai \r\n/*---------------------------------------------------------//\r\nuseEffect(() =>{\r\n    if(settings.nor < current_drawer.round_count){\r\n        setround_ender(true);\r\n    }\r\n},[current_drawer]);\r\n\r\nconst [round_ender,setround_ender] = useState(false);\r\n//---------------------------------------------------------*/ \r\n"]},"metadata":{},"sourceType":"module"}