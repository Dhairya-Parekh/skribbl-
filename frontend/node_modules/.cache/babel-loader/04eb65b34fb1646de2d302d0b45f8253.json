{"ast":null,"code":"var _jsxFileName = \"/home/dhairya/Desktop/Scribble/skribbl-/frontend/src/game/game.js\",\n    _s = $RefreshSig$();\n\nimport './game.scss';\nimport React, { useEffect, useState } from 'react';\nimport Scores from './scores/scores';\nimport Canvas from './canvas/canvas';\nimport Chat from './chat/chat';\nimport Words from './words/words';\nimport Timer from './timer/timer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst worddict = require('./words/words.json');\n\nfunction Game({\n  user,\n  socket,\n  settings\n}) {\n  _s();\n\n  //-------------------------Words--------------------------//\n  const [currentword, setcurrentword] = useState(\"Kaddu\");\n  const [popup, setpopup] = useState(true);\n  const [current_drawer, setcurrent_drawer] = useState(null);\n  const [round_ender, setround_ender] = useState(false);\n  /*//---------------------------------------------------------//\r\n  useEffect(() =>{\r\n      if(settings.nor < current_drawer.round_count){\r\n          setround_ender(true);\r\n      }\r\n  },[current_drawer]);*/\n  //---------------------------------------------------------//\n\n  function generate_random_word() {\n    return worddict.english[parseInt(Math.random() * worddict.english.length)];\n  }\n\n  var s1 = generate_random_word();\n  var s2 = generate_random_word();\n  var s3 = generate_random_word();\n\n  function set_random_word(s) {\n    setcurrentword(s);\n    setpopup(false);\n    socket.emit(\"start_timer\", user.room);\n  } //---------------------------------------------------------//\n\n\n  useEffect(() => {\n    socket.emit(\"get_current_drawer\", user.room);\n    socket.on(\"received_active_user\", data => {\n      setcurrent_drawer(data.current_user);\n    });\n  }, [user, socket]); //-----------------------------------------------------------// \n\n  socket.on(\"active_user_updated\", data => {\n    setcurrent_drawer(data.user);\n    setpopup(true);\n  });\n  socket.on(\"Sub_Round_Over\", data => {\n    sub_round_over(data.curr_draw);\n  });\n\n  function sub_round_over(x) {\n    socket.emit(\"update_chatting_rights\", user.room);\n\n    if (user.id === x.id) {\n      socket.emit(\"update_active_user\", user.room);\n    }\n  } //-----------------------------------------------------------//\n\n\n  console.log(\"return mein kya aaya \", currentword);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: current_drawer !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Game\",\n        children: round_ender ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Scores, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Timer, {\n              user: user,\n              socket: socket,\n              drawer: current_drawer,\n              timelimit: settings.timelimit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left\",\n            children: /*#__PURE__*/_jsxDEV(Scores, {\n              roomname: user.room,\n              socket: socket,\n              drawer: current_drawer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: popup && user.id === current_drawer.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => set_random_word(s1),\n                  children: s1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => set_random_word(s2),\n                  children: s2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => set_random_word(s3),\n                  children: s3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 37\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => sub_round_over(),\n                children: \"Next Round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Words, {\n                user: user,\n                drawer: current_drawer,\n                currentword: currentword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Canvas, {\n                user: user,\n                socket: socket,\n                drawer: current_drawer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Chat, {\n              user: user,\n              drawer: current_drawer,\n              socket: socket,\n              currentword: currentword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Game, \"RMMqCaZyVK+JrHqTU/GBbOrXB0A=\");\n\n_c = Game;\nexport default Game;\n/* */\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/home/dhairya/Desktop/Scribble/skribbl-/frontend/src/game/game.js"],"names":["React","useEffect","useState","Scores","Canvas","Chat","Words","Timer","worddict","require","Game","user","socket","settings","currentword","setcurrentword","popup","setpopup","current_drawer","setcurrent_drawer","round_ender","setround_ender","generate_random_word","english","parseInt","Math","random","length","s1","s2","s3","set_random_word","s","emit","room","on","data","current_user","sub_round_over","curr_draw","x","id","console","log","timelimit"],"mappings":"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","sourcesContent":["import './game.scss';\r\nimport React,{useEffect, useState} from 'react';\r\nimport Scores from './scores/scores';\r\nimport Canvas from './canvas/canvas';\r\nimport Chat from './chat/chat';\r\nimport Words from './words/words';\r\nimport Timer from './timer/timer';\r\nconst worddict = require('./words/words.json');\r\n\r\nfunction Game({user,socket,settings}){\r\n    //-------------------------Words--------------------------//\r\n    const [currentword,setcurrentword] = useState(\"Kaddu\");\r\n    const [popup,setpopup] = useState(true);\r\n    const [current_drawer,setcurrent_drawer] = useState(null);\r\n    const [round_ender,setround_ender] = useState(false);\r\n\r\n\r\n    /*//---------------------------------------------------------//\r\n    useEffect(() =>{\r\n        if(settings.nor < current_drawer.round_count){\r\n            setround_ender(true);\r\n        }\r\n    },[current_drawer]);*/\r\n    //---------------------------------------------------------//\r\n    function generate_random_word(){\r\n        return worddict.english[parseInt(Math.random()*worddict.english.length)];\r\n    }\r\n    var s1=generate_random_word();\r\n    var s2=generate_random_word();\r\n    var s3=generate_random_word();\r\n    function set_random_word(s){\r\n        setcurrentword(s);\r\n        setpopup(false);\r\n        socket.emit(\"start_timer\",user.room);\r\n    }\r\n    //---------------------------------------------------------//\r\n    \r\n    useEffect(()=>{      \r\n        socket.emit(\"get_current_drawer\",user.room);\r\n        socket.on(\"received_active_user\",(data)=>{\r\n            setcurrent_drawer(data.current_user);\r\n        });\r\n    },[user,socket]);\r\n    //-----------------------------------------------------------// \r\n    socket.on(\"active_user_updated\",(data) =>{\r\n        setcurrent_drawer(data.user);\r\n        setpopup(true);\r\n    })    \r\n\r\n    socket.on(\"Sub_Round_Over\",(data)=>{\r\n        sub_round_over(data.curr_draw);\r\n    })\r\n\r\n    function sub_round_over(x){\r\n        socket.emit(\"update_chatting_rights\",user.room);\r\n        if(user.id === x.id){\r\n            socket.emit(\"update_active_user\",user.room);\r\n        }    \r\n    }    \r\n    //-----------------------------------------------------------//\r\n    console.log(\"return mein kya aaya \",currentword);\r\n    return(  \r\n        <div>\r\n            {\r\n                current_drawer!==null?\r\n                <div>\r\n                    <div className='Game'>\r\n                      {round_ender ? \r\n                      <div>\r\n                          <Scores/>\r\n                      </div>\r\n                      :\r\n                      <div>\r\n                          <div>\r\n                            <Timer\r\n                                user={user}\r\n                                socket={socket}\r\n                                drawer={current_drawer}\r\n                                timelimit={settings.timelimit}\r\n                            />\r\n                        </div>\r\n                        <div className='left'>\r\n                            <Scores\r\n                                roomname={user.room}\r\n                                socket={socket}\r\n                                drawer={current_drawer}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <div>\r\n                                {popup && user.id === current_drawer.id?\r\n                                    <div>\r\n                                        <button onClick={()=>set_random_word(s1)}>{s1}</button>\r\n                                        <button onClick={()=>set_random_word(s2)}>{s2}</button>\r\n                                        <button onClick={()=>set_random_word(s3)}>{s3}</button>\r\n                                    </div>\r\n                                    :null\r\n                                }\r\n                            </div>\r\n                            <div>\r\n                                <button onClick={()=>sub_round_over()}>Next Round</button>\r\n                            </div>\r\n                            <div>\r\n                                <Words\r\n                                    user={user}\r\n                                    drawer={current_drawer}\r\n                                    currentword={currentword}\r\n                                    />\r\n                            </div>\r\n                            <div>\r\n                                <Canvas\r\n                                    user={user}\r\n                                    socket={socket}\r\n                                    drawer={current_drawer}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className='right'>\r\n                            <Chat\r\n                                user={user} \r\n                                drawer={current_drawer}\r\n                                socket={socket}\r\n                                currentword={currentword}\r\n                            /> \r\n                        </div></div>}  \r\n                    </div>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <h2>\r\n                        Loading...2\r\n                    </h2>\r\n                </div>\r\n            }\r\n        </div>    \r\n    );\r\n}\r\n\r\nexport default Game;\r\n\r\n\r\n/* */"]},"metadata":{},"sourceType":"module"}